name: proto-lens-combinators
version: '0.4'
synopsis: Utilities functions to proto-lens.
description: Useful things for working with protos.
category: Data
author: Zie Weaver
maintainer: zearen+protolens@google.com
copyright: Google Inc.
license: BSD3
github: google/proto-lens/proto-lens-combinators
extra-source-files:
  - tests/combinators.proto
  - Changelog.md

custom-setup:
  dependencies:
    - base >= 4.9 && < 4.13
    - Cabal
    - proto-lens-setup == 0.4.*

dependencies:
  - base >= 4.9 && < 4.13
  - lens-family == 1.2.*

library:
  source-dirs: src
  exposed-modules:
    - Data.ProtoLens.Combinators
  dependencies:
    - proto-lens == 0.4.*
    - transformers >= 0.4 && < 0.6

tests:
  combinators_test:
    main: combinators_test.hs
    source-dirs: tests
    dependencies:
      - HUnit
      - base
      - lens-family
      - lens-family-core
      - proto-lens
      - proto-lens-combinators
      - proto-lens-runtime == 0.4.*
      - test-framework
      - test-framework-hunit
    other-modules:
      Proto.Combinators
      Proto.Combinators_Fields
    # Manually list autogenerated modules, to avoid hpack
    # requiring `cabal-version: >= 2.0`.
    verbatim:
      - |
        autogen-modules:
          Proto.Combinators
          Proto.Combinators_Fields
